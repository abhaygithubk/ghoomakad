<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ghoomakad ‚Äî Booking</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,400&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'DM Sans',sans-serif;background:#F5EFE0;min-height:100vh}

    /* NAV */
    nav{background:#1A1208;padding:14px 40px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50}
    .nl{font-family:'Playfair Display',serif;font-size:1.5rem;font-weight:900;color:#E8B84B;text-decoration:none}
    .nr{display:flex;align-items:center;gap:14px}
    .ubadge{display:flex;align-items:center;gap:9px;background:rgba(255,255,255,.08);padding:7px 14px;border-radius:50px}
    .uav{width:30px;height:30px;background:#C8972A;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.78rem;font-weight:700;color:#1A1208}
    .uname{font-size:.82rem;color:#fff;font-weight:500}
    .logout{font-size:.75rem;color:rgba(255,255,255,.4);cursor:pointer;background:none;border:none;font-family:'DM Sans',sans-serif}
    .logout:hover{color:#E8B84B}
    .ssl{font-size:.75rem;color:rgba(255,255,255,.3)}

    /* LOGIN WALL */
    .lwall{display:none;position:fixed;inset:0;background:rgba(26,18,8,.96);backdrop-filter:blur(12px);z-index:999;align-items:center;justify-content:center;flex-direction:column;gap:20px;text-align:center;padding:24px}
    .lwall.show{display:flex}
    .lw-icon{font-size:4rem;animation:bob 1.2s ease-in-out infinite alternate}
    @keyframes bob{from{transform:translateY(0)}to{transform:translateY(-12px)}}
    .lw-title{font-family:'Playfair Display',serif;font-size:2rem;color:#E8B84B}
    .lw-sub{font-size:.95rem;color:rgba(255,255,255,.55);max-width:360px;line-height:1.7}
    .lw-btns{display:flex;gap:14px;margin-top:6px}
    .lw-a{padding:13px 30px;border-radius:50px;font-size:.92rem;font-weight:700;text-decoration:none;transition:all .3s}
    .lw-a.primary{background:linear-gradient(135deg,#C8972A,#E8B84B);color:#1A1208}
    .lw-a.ghost{background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.2)}

    /* WRAPPER */
    .wrap{max-width:1100px;margin:0 auto;padding:36px 24px;display:grid;grid-template-columns:1fr 380px;gap:28px;align-items:start}

    /* LEFT CARD */
    .card{background:#fff;border-radius:20px;padding:36px;box-shadow:0 12px 48px rgba(26,18,8,.08)}
    .card h2{font-family:'Playfair Display',serif;font-size:1.45rem;color:#1A1208;margin-bottom:5px}
    .card .sub{font-size:.82rem;color:#8A7060;margin-bottom:26px}

    /* STEPS */
    .steps{display:flex;align-items:center;margin-bottom:28px}
    .stp{display:flex;align-items:center;gap:7px;font-size:.76rem;font-weight:600;color:#8A7060}
    .stp.done{color:#2D5A4F}.stp.active{color:#1A1208}
    .stn{width:24px;height:24px;border-radius:50%;background:#F5EFE0;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;color:#8A7060}
    .stp.active .stn{background:#C8972A;color:#fff}
    .stp.done .stn{background:#2D5A4F;color:#fff}
    .stl{flex:1;height:1px;background:#F5EFE0;margin:0 8px}

    /* SECTION */
    .sec{margin-bottom:26px}
    .sec-title{font-size:.65rem;letter-spacing:2px;text-transform:uppercase;font-weight:700;color:#8A7060;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #F5EFE0}
    .fg{display:flex;flex-direction:column;gap:4px;margin-bottom:12px}
    .fg label{font-size:.7rem;font-weight:600;letter-spacing:.5px;color:#4A3728}
    .fg input,.fg select{border:1.5px solid #EDE4D3;border-radius:10px;padding:11px 13px;font-family:'DM Sans',sans-serif;font-size:.9rem;color:#1A1208;outline:none;transition:all .3s;background:#fff;width:100%}
    .fg input:focus,.fg select:focus{border-color:#C8972A;box-shadow:0 0 0 3px rgba(200,151,42,.1)}
    .fr2{display:grid;grid-template-columns:1fr 1fr;gap:12px}

    /* DESTINATION CARDS */
    .dest-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:4px}
    .dc{border:2px solid #EDE4D3;border-radius:14px;overflow:hidden;cursor:pointer;transition:all .3s;position:relative}
    .dc:hover{border-color:#C8972A;transform:translateY(-2px);box-shadow:0 8px 24px rgba(200,151,42,.18)}
    .dc.selected{border-color:#C8972A;box-shadow:0 0 0 3px rgba(200,151,42,.2)}
    .dc img{width:100%;height:90px;object-fit:cover;display:block;transition:transform .4s}
    .dc:hover img{transform:scale(1.04)}
    .dc-info{padding:10px 12px}
    .dc-name{font-size:.85rem;font-weight:700;color:#1A1208;margin-bottom:2px}
    .dc-price{font-size:.78rem;color:#C8972A;font-weight:600}
    .dc-check{position:absolute;top:8px;right:8px;width:24px;height:24px;background:#C8972A;border-radius:50%;display:none;align-items:center;justify-content:center;color:#fff;font-size:.75rem;font-weight:700}
    .dc.selected .dc-check{display:flex}
    .dest-error{font-size:.78rem;color:#E53E3E;display:none;margin-top:6px}

    /* PAYMENT METHODS */
    .pmts{display:flex;gap:8px;margin-bottom:18px;flex-wrap:wrap}
    .pmt{flex:1;min-width:80px;padding:11px 8px;border:2px solid #EDE4D3;border-radius:11px;background:#fff;cursor:pointer;text-align:center;transition:all .3s;display:flex;flex-direction:column;align-items:center;gap:4px}
    .pmt:hover,.pmt.active{border-color:#C8972A;background:rgba(200,151,42,.05)}
    .pmt .mi{font-size:1.25rem}.pmt .mn{font-size:.65rem;font-weight:600;color:#4A3728}
    .cv{background:linear-gradient(135deg,#1A1208,#3D2E14,#2D5A4F);border-radius:13px;padding:22px;margin-bottom:18px;position:relative;overflow:hidden;color:#fff}
    .cv::before{content:'';position:absolute;top:-30px;right:-30px;width:130px;height:130px;border-radius:50%;background:rgba(200,151,42,.14)}
    .cchip{width:30px;height:22px;background:linear-gradient(135deg,#E8B84B,#C8972A);border-radius:5px;margin-bottom:18px;position:relative;z-index:1}
    .cnum{font-size:1rem;letter-spacing:4px;font-family:'Courier New',monospace;margin-bottom:14px;position:relative;z-index:1}
    .cbot{display:flex;justify-content:space-between;align-items:flex-end;position:relative;z-index:1}
    .clbl{font-size:.52rem;letter-spacing:1.5px;text-transform:uppercase;color:rgba(255,255,255,.4);margin-bottom:2px}
    .cval{font-size:.82rem;font-weight:500}
    .upi-s,.nb-s,.wl-s{display:none}
    .urow{display:flex;gap:8px}.urow input{flex:1}
    .vbtn{background:#F5EFE0;border:1.5px solid #EDE4D3;border-radius:10px;padding:11px 14px;font-family:'DM Sans',sans-serif;font-size:.8rem;font-weight:600;color:#4A3728;cursor:pointer;white-space:nowrap}
    .uapps{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
    .ua{display:flex;align-items:center;gap:6px;padding:8px 12px;border:1.5px solid #EDE4D3;border-radius:9px;cursor:pointer;font-size:.75rem;font-weight:600;color:#4A3728;transition:all .3s}
    .ua:hover{border-color:#C8972A}
    .bg{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-bottom:12px}
    .bi{padding:9px 6px;border:1.5px solid #EDE4D3;border-radius:9px;cursor:pointer;text-align:center;font-size:.72rem;font-weight:600;color:#4A3728;transition:all .3s}
    .bi:hover,.bi.sel{border-color:#C8972A;background:rgba(200,151,42,.05)}
    .bic{font-size:1.3rem;margin-bottom:2px}
    .wg{display:grid;grid-template-columns:repeat(3,1fr);gap:7px}
    .wi{padding:9px 6px;border:1.5px solid #EDE4D3;border-radius:9px;cursor:pointer;text-align:center;font-size:.72rem;font-weight:600;color:#4A3728;transition:all .3s}
    .wi:hover,.wi.sel{border-color:#C8972A;background:rgba(200,151,42,.05)}
    .wic{font-size:1.3rem;margin-bottom:2px}

    /* COUPON */
    .crow{display:flex;gap:8px;margin-bottom:12px}
    .ci{flex:1;padding:11px 13px;border:1.5px solid #EDE4D3;border-radius:10px;font-family:'DM Sans',sans-serif;font-size:.88rem;outline:none;transition:border .3s}
    .ci:focus{border-color:#C8972A}
    .cbtn{background:#1A1208;color:#fff;border:none;border-radius:10px;padding:11px 16px;font-family:'DM Sans',sans-serif;font-size:.82rem;font-weight:600;cursor:pointer}
    .csuc{display:none;font-size:.78rem;color:#2D5A4F;font-weight:600;margin-bottom:12px}

    /* PAY BUTTON */
    .pb{width:100%;background:linear-gradient(135deg,#C8972A,#E8B84B);color:#1A1208;border:none;border-radius:13px;padding:16px;font-family:'DM Sans',sans-serif;font-size:.97rem;font-weight:700;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:10px;margin-top:8px}
    .pb:hover{transform:translateY(-3px);box-shadow:0 12px 28px rgba(200,151,42,.42)}
    .pb:disabled{opacity:.65;cursor:not-allowed;transform:none}
    .pnote{text-align:center;margin-top:10px;font-size:.7rem;color:#8A7060}
    .ptm{display:flex;align-items:center;justify-content:center;gap:7px;margin-top:14px;font-size:.7rem;color:#8A7060}
    .ptmb{background:#00BAF2;color:#fff;font-size:.6rem;font-weight:800;letter-spacing:1px;padding:3px 7px;border-radius:4px}

    /* ORDER SUMMARY */
    .os{background:#1A1208;border-radius:20px;padding:32px;color:#fff;position:sticky;top:80px}
    .os h3{font-family:'Playfair Display',serif;font-size:1.2rem;margin-bottom:20px;color:#C8972A}
    .oi{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.07)}
    .oi img{width:56px;height:56px;border-radius:9px;object-fit:cover;flex-shrink:0}
    .oi-info h4{font-size:.88rem;font-weight:600;color:#fff;margin-bottom:2px}
    .oi-info span{font-size:.74rem;color:rgba(255,255,255,.38)}
    .oi-price{font-family:'Playfair Display',serif;font-size:.95rem;color:#E8B84B;font-weight:700;margin-left:auto}
    .obr{margin-top:18px;display:flex;flex-direction:column;gap:9px}
    .br{display:flex;justify-content:space-between;font-size:.82rem;color:rgba(255,255,255,.45)}
    .br.total{font-size:1rem;color:#fff;font-weight:600;margin-top:6px;padding-top:12px;border-top:1px solid rgba(255,255,255,.1)}
    .br.total span:last-child{color:#E8B84B;font-family:'Playfair Display',serif;font-size:1.2rem}
    .tbadges{display:flex;flex-wrap:wrap;gap:10px;margin-top:20px;padding-top:18px;border-top:1px solid rgba(255,255,255,.07)}
    .tb{font-size:.7rem;color:rgba(255,255,255,.3)}

    /* PROCESSING */
    .po{display:none;position:fixed;inset:0;background:rgba(26,18,8,.93);backdrop-filter:blur(8px);z-index:998;align-items:center;justify-content:center;flex-direction:column;gap:16px;text-align:center}
    .po.show{display:flex}
    .spin{width:52px;height:52px;border:4px solid rgba(255,255,255,.12);border-top-color:#C8972A;border-radius:50%;animation:sp .8s linear infinite}
    @keyframes sp{to{transform:rotate(360deg)}}
    .pt{color:#fff;font-size:.97rem;font-weight:500}
    .psl{display:flex;flex-direction:column;gap:7px;margin-top:8px}
    .ps{font-size:.78rem;color:rgba(255,255,255,.28);display:flex;align-items:center;gap:8px;transition:all .3s}
    .ps.active{color:#fff}.ps.done{color:#E8B84B}

    /* SUCCESS MODAL */
    .sm{display:none;position:fixed;inset:0;background:rgba(26,18,8,.82);backdrop-filter:blur(10px);z-index:999;align-items:center;justify-content:center;padding:16px;overflow-y:auto}
    .sm.show{display:flex}
    .sc{background:#fff;border-radius:22px;max-width:540px;width:100%;animation:popIn .4s ease;overflow:hidden;box-shadow:0 40px 100px rgba(0,0,0,.28)}
    @keyframes popIn{from{transform:scale(.85);opacity:0}to{transform:scale(1);opacity:1}}

    /* TICKET */
    .tk-top{background:linear-gradient(135deg,#1A1208,#3D2E14);padding:18px 26px;display:flex;justify-content:space-between;align-items:center}
    .tk-brand{font-family:'Playfair Display',serif;font-size:1.3rem;font-weight:900;color:#E8B84B}
    .tk-badge{background:#2D5A4F;color:#fff;font-size:.6rem;font-weight:700;letter-spacing:1.5px;padding:4px 11px;border-radius:50px}
    .tk-destimg{width:100%;height:90px;object-fit:cover}
    .tk-body{padding:20px 26px}
    .tk-route{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding-bottom:16px;border-bottom:2px dashed #EDE4D3}
    .cblk{text-align:center}
    .cc{font-family:'Playfair Display',serif;font-size:2rem;font-weight:900;color:#1A1208;line-height:1}
    .cn{font-size:.67rem;color:#8A7060;margin-top:3px}
    .fa{text-align:center;flex:1}
    .fa .pl{font-size:1.6rem}
    .rl{height:1px;background:linear-gradient(to right,#C8972A,#E8B84B,#C8972A);margin:5px 8px}
    .fa .dur{font-size:.65rem;color:#8A7060;margin-top:3px}
    .tk-details{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px}
    .di label{font-size:.58rem;letter-spacing:1.5px;text-transform:uppercase;color:#8A7060;display:block;margin-bottom:2px}
    .di span{font-size:.84rem;font-weight:600;color:#1A1208}
    .tk-txn{background:#1A1208;border-radius:9px;padding:11px 14px;display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
    .tk-txn label{font-size:.58rem;letter-spacing:1.5px;text-transform:uppercase;color:rgba(255,255,255,.38);display:block;margin-bottom:3px}
    .tk-txn span{font-family:'Courier New',monospace;font-size:.8rem;color:#E8B84B;font-weight:700}
    .tk-bc{text-align:center;background:#FDFAF4;border-radius:9px;padding:10px;margin-bottom:18px}
    .bb{display:flex;gap:2px;justify-content:center;align-items:flex-end;height:32px;margin-bottom:5px}
    .bar{border-radius:1px}
    .bn{font-family:'Courier New',monospace;font-size:.68rem;color:#8A7060;letter-spacing:2px}
    .sbtns{display:flex;gap:10px;padding:0 26px 22px}
    .dlbtn{flex:1.3;background:linear-gradient(135deg,#C8972A,#E8B84B);color:#1A1208;border:none;border-radius:11px;padding:13px;font-family:'DM Sans',sans-serif;font-size:.88rem;font-weight:700;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:7px}
    .dlbtn:hover{transform:translateY(-2px);box-shadow:0 8px 22px rgba(200,151,42,.38)}
    .hmbtn{flex:1;background:#F5EFE0;color:#1A1208;border:none;border-radius:11px;padding:13px;font-family:'DM Sans',sans-serif;font-size:.88rem;font-weight:600;cursor:pointer}
    .hmbtn:hover{background:#EDE4D3}

    @media(max-width:900px){.wrap{grid-template-columns:1fr}.os{position:static}}
    @media(max-width:560px){.dest-grid{grid-template-columns:1fr 1fr}.fr2{grid-template-columns:1fr}.tk-details{grid-template-columns:1fr}.sbtns{flex-direction:column}}
  </style>
</head>
<body>

<!-- LOGIN WALL -->
<div class="lwall" id="lwall">
  <div class="lw-icon">üîê</div>
  <div class="lw-title">Pehle Login Karo!</div>
  <div class="lw-sub">Booking karne ke liye Ghoomakad account chahiye. Bilkul free hai!</div>
  <div class="lw-btns">
    <a href="login.html" class="lw-a primary">üöÄ Login Karo</a>
    <a href="login.html#register" class="lw-a ghost">üìù Register</a>
  </div>
</div>

<!-- NAV -->
<nav>
  <a href="index.html" class="nl">Ghoomakad</a>
  <div class="nr">
    <div class="ubadge" id="ubadge" style="display:none">
      <div class="uav" id="uav">?</div>
      <div class="uname" id="uname">User</div>
    </div>
    <button class="logout" onclick="logout()">Logout</button>
    <span class="ssl">üîí SSL</span>
  </div>
</nav>

<div class="wrap">

  <!-- FORM -->
  <div class="card">
    <h2>Secure Checkout</h2>
    <p class="sub">Apni dream trip book karo ‚Äî payment 100% safe hai.</p>

    <div class="steps">
      <div class="stp done"><div class="stn">‚úì</div><span>Login</span></div>
      <div class="stl"></div>
      <div class="stp active"><div class="stn">2</div><span>Booking</span></div>
      <div class="stl"></div>
      <div class="stp"><div class="stn">3</div><span>üé´ Ticket</span></div>
    </div>

    <!-- Yatri Info -->
    <div class="sec">
      <div class="sec-title">Yatri Ki Jaankari</div>
      <div class="fr2">
        <div class="fg"><label>Pehla Naam</label><input type="text" id="fname" placeholder="Rahul"></div>
        <div class="fg"><label>Aakhri Naam</label><input type="text" id="lname" placeholder="Sharma"></div>
      </div>
      <div class="fg"><label>Email</label><input type="email" id="email" placeholder="rahul@gmail.com"></div>
      <div class="fg"><label>Mobile</label><input type="tel" id="phone" placeholder="+91 98765 43210"></div>
    </div>

    <!-- Destination Cards -->
    <div class="sec">
      <div class="sec-title">Destination Chunein (ek select karo)</div>
      <div class="dest-grid" id="destGrid">
        <!-- Cards dynamically inserted -->
      </div>
      <div class="dest-error" id="destErr">‚ö†Ô∏è Ek destination chunna zaroori hai!</div>
    </div>

    <!-- Travel Details -->
    <div class="sec">
      <div class="sec-title">Safar Ki Jaankari</div>
      <div class="fr2">
        <div class="fg"><label>Travel Date</label><input type="date" id="tdate"></div>
        <div class="fg"><label>Kitne Log</label>
          <select id="travelers">
            <option>1 Adult</option><option selected>2 Adults</option>
            <option>3 Adults</option><option>4 Adults</option>
            <option>2 Adults + 1 Child</option><option>2 Adults + 2 Children</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Coupon -->
    <div class="sec">
      <div class="sec-title">Coupon Code</div>
      <div class="crow">
        <input class="ci" type="text" id="coupon" placeholder="Try GHOOMAKAD10">
        <button class="cbtn" onclick="applyCoupon()">Apply</button>
      </div>
      <div class="csuc" id="csuc">üéâ GHOOMAKAD10 laga! ‚Çπ2,499 ki bachat!</div>
    </div>

    <!-- Payment Method -->
    <div class="sec">
      <div class="sec-title">Payment Ka Tarika</div>
      <div class="pmts">
        <div class="pmt active" onclick="swM('card',this)"><div class="mi">üí≥</div><div class="mn">Card</div></div>
        <div class="pmt" onclick="swM('upi',this)"><div class="mi">üì±</div><div class="mn">UPI</div></div>
        <div class="pmt" onclick="swM('nb',this)"><div class="mi">üè¶</div><div class="mn">Net Banking</div></div>
        <div class="pmt" onclick="swM('wl',this)"><div class="mi">üëõ</div><div class="mn">Wallet</div></div>
      </div>

      <!-- CARD -->
      <div id="m-card">
        <div class="cv">
          <div class="cchip"></div>
          <div class="cnum" id="cnum">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢</div>
          <div class="cbot">
            <div><div class="clbl">Card Holder</div><div class="cval" id="cholder">YOUR NAME</div></div>
            <div><div class="clbl">Expires</div><div class="cval" id="cexp">MM/YY</div></div>
            <div style="font-size:1.4rem" id="cbrand">üí≥</div>
          </div>
        </div>
        <div class="fg"><label>Card Number</label><input type="text" id="cn" placeholder="1234 5678 9012 3456" maxlength="19" oninput="fmtCard(this)"></div>
        <div class="fg"><label>Cardholder Name</label><input type="text" id="cname" placeholder="Rahul Sharma" oninput="document.getElementById('cholder').textContent=this.value.toUpperCase()||'YOUR NAME'"></div>
        <div class="fr2">
          <div class="fg"><label>Expiry</label><input type="text" id="ce" placeholder="MM/YY" maxlength="5" oninput="fmtExp(this)"></div>
          <div class="fg"><label>CVV</label><input type="password" id="ccvv" placeholder="‚Ä¢‚Ä¢‚Ä¢" maxlength="4"></div>
        </div>
      </div>

      <!-- UPI -->
      <div class="upi-s" id="m-upi">
        <div class="fg"><label>UPI ID</label>
          <div class="urow"><input type="text" id="upiid" placeholder="name@paytm"><button class="vbtn" onclick="vUPI()">Verify</button></div>
        </div>
        <div class="uapps">
          <div class="ua" onclick="document.getElementById('upiid').value='name@paytm'"><span>üì±</span>Paytm</div>
          <div class="ua" onclick="document.getElementById('upiid').value='name@okicici'"><span>üîµ</span>GPay</div>
          <div class="ua" onclick="document.getElementById('upiid').value='name@ybl'"><span>üíú</span>PhonePe</div>
          <div class="ua" onclick="document.getElementById('upiid').value='name@upi'"><span>üáÆüá≥</span>BHIM</div>
        </div>
      </div>

      <!-- NET BANKING -->
      <div class="nb-s" id="m-nb">
        <div class="bg">
          <div class="bi" onclick="selB(this)"><div class="bic">üè¶</div>SBI</div>
          <div class="bi" onclick="selB(this)"><div class="bic">üèõÔ∏è</div>HDFC</div>
          <div class="bi" onclick="selB(this)"><div class="bic">üîµ</div>ICICI</div>
          <div class="bi" onclick="selB(this)"><div class="bic">üü°</div>Axis</div>
          <div class="bi" onclick="selB(this)"><div class="bic">üü†</div>Kotak</div>
          <div class="bi" onclick="selB(this)"><div class="bic">üè¶</div>PNB</div>
        </div>
      </div>

      <!-- WALLET -->
      <div class="wl-s" id="m-wl">
        <div class="wg">
          <div class="wi sel" onclick="selW(this)"><div class="wic">üì±</div>Paytm</div>
          <div class="wi" onclick="selW(this)"><div class="wic">üõçÔ∏è</div>Amazon Pay</div>
          <div class="wi" onclick="selW(this)"><div class="wic">üí∞</div>Mobikwik</div>
          <div class="wi" onclick="selW(this)"><div class="wic">üí≥</div>Ola Money</div>
          <div class="wi" onclick="selW(this)"><div class="wic">üî∑</div>JioMoney</div>
          <div class="wi" onclick="selW(this)"><div class="wic">üì¶</div>Freecharge</div>
        </div>
      </div>
    </div>

    <button class="pb" id="paybtn" onclick="doPay()">üîí Pay Securely</button>
    <p class="pnote">üõ°Ô∏è 100% Secure ¬∑ Encrypted ¬∑ No Card Data Stored</p>
    <div class="ptm"><span>Powered by</span><span class="ptmb">Paytm</span></div>
  </div>

  <!-- ORDER SUMMARY -->
  <div class="os">
    <h3>Aapki Booking</h3>
    <div class="oi" id="sumItem">
      <img id="sumImg" src="https://images.unsplash.com/photo-1564507592333-c60657eea523?w=200&q=80" alt="dest" style="width:56px;height:56px;border-radius:9px;object-fit:cover">
      <div class="oi-info"><h4 id="sumName">Destination chunein</h4><span id="sumNights">‚Äî ¬∑ 2 Adults</span></div>
      <div class="oi-price" id="sumPrice">‚Çπ0</div>
    </div>
    <div class="oi">
      <div class="oi-info"><h4>Travel Insurance</h4><span>Comprehensive coverage</span></div>
      <div class="oi-price">‚Çπ1,999</div>
    </div>
    <div class="obr">
      <div class="br"><span>Package price</span><span id="bprice">‚Çπ0</span></div>
      <div class="br"><span>Travel Insurance</span><span>‚Çπ1,999</span></div>
      <div class="br"><span>Service fee</span><span id="sfee">‚Çπ0</span></div>
      <div class="br" id="discrow" style="display:none;color:#2D5A4F"><span>Coupon discount</span><span>‚àí‚Çπ2,499</span></div>
      <div class="br"><span>GST (5%)</span><span id="gst">‚Çπ0</span></div>
      <div class="br total"><span>Total</span><span id="total">‚Çπ0</span></div>
    </div>
    <div class="tbadges">
      <div class="tb">‚úÖ Free cancellation</div>
      <div class="tb">üîí Secure payment</div>
      <div class="tb">üìû 24/7 Support</div>
      <div class="tb">üìÑ Instant ticket</div>
    </div>
  </div>
</div>

<!-- PROCESSING -->
<div class="po" id="po">
  <div class="spin"></div>
  <div class="pt" id="ptxt">Processing...</div>
  <div class="psl">
    <div class="ps" id="ps1">‚è≥ Payment encrypt ho rahi hai</div>
    <div class="ps" id="ps2">‚è≥ Bank verify kar raha hai</div>
    <div class="ps" id="ps3">‚è≥ Booking confirm ho rahi hai</div>
    <div class="ps" id="ps4">‚è≥ Ticket ban rahi hai üé´</div>
  </div>
</div>

<!-- SUCCESS MODAL WITH TICKET -->
<div class="sm" id="sm">
  <div class="sc">
    <div class="tk-top">
      <div><div class="tk-brand">Ghoomakad ‚úà</div><div style="font-size:.65rem;color:rgba(255,255,255,.38);margin-top:3px">Booking Confirmed!</div></div>
      <div class="tk-badge">‚úÖ CONFIRMED</div>
    </div>
    <img id="tkimg" class="tk-destimg" src="" alt="destination">
    <div class="tk-body">
      <div class="tk-route">
        <div class="cblk"><div class="cc">DEL</div><div class="cn">New Delhi</div></div>
        <div class="fa">
          <div class="pl">‚úàÔ∏è</div>
          <div class="rl"></div>
          <div class="dur" id="tkdur">‚Äî</div>
        </div>
        <div class="cblk"><div class="cc" id="tkcode">‚Äî</div><div class="cn" id="tkcity">‚Äî</div></div>
      </div>
      <div class="tk-details">
        <div class="di"><label>Yatri Ka Naam</label><span id="tkname">‚Äî</span></div>
        <div class="di"><label>Travel Date</label><span id="tkdate">‚Äî</span></div>
        <div class="di"><label>Destination</label><span id="tkdest">‚Äî</span></div>
        <div class="di"><label>Travelers</label><span id="tktrav">‚Äî</span></div>
        <div class="di"><label>Package</label><span>Premium Package</span></div>
        <div class="di"><label>Amount Paid</label><span id="tkamt" style="color:#C8972A;font-weight:700">‚Äî</span></div>
      </div>
      <div class="tk-txn">
        <div><label>Transaction ID</label><span id="tktxn">‚Äî</span></div>
        <div style="font-size:1.4rem">üé´</div>
      </div>
      <div class="tk-bc">
        <div class="bb" id="bbviz"></div>
        <div class="bn" id="tkbar">‚Äî</div>
      </div>
    </div>
    <div class="sbtns">
      <button class="dlbtn" id="dlbtn" onclick="downloadPDF()">üì• Ticket Download Karo</button>
      <button class="hmbtn" onclick="location.href='index.html'">üè† Home</button>
    </div>
  </div>
</div>

<script>
// ‚îÄ‚îÄ Destinations data ‚îÄ‚îÄ
const DESTS = [
  {name:'Taj Mahal, Agra',     code:'AGR', city:'Agra',     img:'https://images.unsplash.com/photo-1564507592333-c60657eea523?w=600&q=80', price:8999,  nights:'5 Raatein', emoji:'üïå'},
  {name:'Alleppey, Kerala',    code:'ALY', city:'Alleppey', img:'https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?w=600&q=80', price:6499,  nights:'4 Raatein', emoji:'üåø'},
  {name:'Goa Beaches',         code:'GOA', city:'Goa',      img:'https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=600&q=80', price:4999,  nights:'3 Raatein', emoji:'üèñÔ∏è'},
  {name:'Manali & Spiti',      code:'MNL', city:'Manali',   img:'https://images.unsplash.com/photo-1626621341517-bbf3d9990a23?w=600&q=80', price:7299,  nights:'6 Raatein', emoji:'üèîÔ∏è'},
  {name:'Jaipur Pink City',    code:'JPR', city:'Jaipur',   img:'https://images.unsplash.com/photo-1477587458883-47145ed94245?w=600&q=80', price:5499,  nights:'4 Raatein', emoji:'üèØ'},
  {name:'Leh Ladakh',          code:'LEH', city:'Ladakh',   img:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600&q=80', price:12999, nights:'7 Raatein', emoji:'‚ùÑÔ∏è'},
  {name:'Varanasi',            code:'VNS', city:'Varanasi', img:'https://images.unsplash.com/photo-1548013146-72479768bada?w=600&q=80', price:4499,  nights:'3 Raatein', emoji:'üôè'},
  {name:'Andaman Islands',     code:'AND', city:'Andaman',  img:'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=600&q=80', price:14999, nights:'7 Raatein', emoji:'üåä'},
];

// ‚îÄ‚îÄ State ‚îÄ‚îÄ
const getMe = () => { try { return JSON.parse(localStorage.getItem('ghoomakad_me')||'null'); } catch { return null; } };
let selDest = null, couponOn = false, selMethod = 'card';

// ‚îÄ‚îÄ Auth check ‚îÄ‚îÄ
window.addEventListener('load', () => {
  const me = getMe();
  if(!me) { document.getElementById('lwall').classList.add('show'); return; }

  // Show user in nav
  document.getElementById('ubadge').style.display = 'flex';
  document.getElementById('uav').textContent = (me.firstName||'U')[0].toUpperCase();
  document.getElementById('uname').textContent = me.firstName || 'User';

  // Auto-fill form
  const parts = (me.name||'').split(' ');
  document.getElementById('fname').value = me.firstName || parts[0] || '';
  document.getElementById('lname').value = me.lastName  || parts.slice(1).join(' ') || '';
  document.getElementById('email').value = me.email || '';
  document.getElementById('phone').value = me.phone || '';

  // Build destination cards
  buildDestCards();
  document.getElementById('tdate').min = new Date().toISOString().split('T')[0];
});

function logout() { localStorage.removeItem('ghoomakad_me'); location.href = 'login.html'; }

// ‚îÄ‚îÄ Build destination cards ‚îÄ‚îÄ
function buildDestCards() {
  const grid = document.getElementById('destGrid');
  grid.innerHTML = '';
  DESTS.forEach((d, i) => {
    const el = document.createElement('div');
    el.className = 'dc';
    el.dataset.idx = i;
    el.innerHTML = `
      <img src="${d.img}" alt="${d.name}" loading="lazy">
      <div class="dc-check">‚úì</div>
      <div class="dc-info">
        <div class="dc-name">${d.emoji} ${d.name}</div>
        <div class="dc-price">‚Çπ${d.price.toLocaleString('en-IN')} / person</div>
      </div>`;
    el.onclick = () => selectDest(i, el);
    grid.appendChild(el);
  });

  // Auto-select from URL ?dest=CODE (e.g. ?dest=GOA)
  const urlCode = new URLSearchParams(window.location.search).get('dest');
  if (urlCode) {
    const idx = DESTS.findIndex(d => d.code === urlCode.toUpperCase());
    if (idx !== -1) {
      const card = grid.querySelectorAll('.dc')[idx];
      selectDest(idx, card);
      setTimeout(() => card.scrollIntoView({behavior:'smooth', block:'center'}), 400);
    }
  }
}

// ‚îÄ‚îÄ Select destination ‚îÄ‚îÄ
function selectDest(idx, el) {
  document.querySelectorAll('.dc').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
  selDest = DESTS[idx];
  document.getElementById('destErr').style.display = 'none';
  calcTotal();
  updateSummary();
}

// ‚îÄ‚îÄ Update summary ‚îÄ‚îÄ
function updateSummary() {
  if(!selDest) return;
  document.getElementById('sumImg').src = selDest.img;
  document.getElementById('sumName').textContent = selDest.name;
  document.getElementById('sumNights').textContent = selDest.nights + ' ¬∑ 2 Adults ¬∑ Premium';
  document.getElementById('sumPrice').textContent = '‚Çπ' + selDest.price.toLocaleString('en-IN');
}

// ‚îÄ‚îÄ Calc total ‚îÄ‚îÄ
let curAmt = 0;
function calcTotal() {
  if(!selDest) return;
  const base = selDest.price;
  const ins  = 1999;
  const fee  = Math.round(base * 0.02);
  const disc = couponOn ? 2499 : 0;
  const gst  = Math.round((base + ins + fee - disc) * 0.05);
  curAmt = base + ins + fee - disc + gst;
  document.getElementById('bprice').textContent = '‚Çπ'+base.toLocaleString('en-IN');
  document.getElementById('sfee').textContent   = '‚Çπ'+fee.toLocaleString('en-IN');
  document.getElementById('gst').textContent    = '‚Çπ'+gst.toLocaleString('en-IN');
  document.getElementById('total').textContent  = '‚Çπ'+curAmt.toLocaleString('en-IN');
  document.getElementById('paybtn').textContent = 'üîí Pay ‚Çπ'+curAmt.toLocaleString('en-IN')+' Securely';
}

// ‚îÄ‚îÄ Coupon ‚îÄ‚îÄ
function applyCoupon() {
  const c = document.getElementById('coupon').value.trim().toUpperCase();
  if(c==='GHOOMAKAD10'||c==='VOYAGR10') {
    couponOn = true;
    document.getElementById('csuc').style.display = 'block';
    document.getElementById('discrow').style.display = 'flex';
    calcTotal();
  } else alert('Invalid code! Try GHOOMAKAD10');
}

// ‚îÄ‚îÄ Payment method switch ‚îÄ‚îÄ
function swM(m, el) {
  document.querySelectorAll('.pmt').forEach(t=>t.classList.remove('active'));
  el.classList.add('active'); selMethod = m;
  ['card','upi','nb','wl'].forEach(x=>{
    const s=document.getElementById('m-'+x);
    if(s) s.style.display='none';
  });
  const cur = document.getElementById('m-'+m);
  if(cur) cur.style.display='block';
}

function fmtCard(i) {
  let v=i.value.replace(/\D/g,'').slice(0,16);
  i.value=v.replace(/(.{4})/g,'$1 ').trim();
  document.getElementById('cnum').textContent=v.padEnd(16,'‚Ä¢').replace(/(.{4})/g,'$1 ').trim();
  document.getElementById('cbrand').textContent=v.startsWith('4')?'üíôVisa':v.startsWith('5')?'üî¥MC':v.startsWith('6')?'üü†Rupay':'üí≥';
}
function fmtExp(i) {
  let v=i.value.replace(/\D/g,'');
  if(v.length>=2) v=v.slice(0,2)+'/'+v.slice(2,4);
  i.value=v;
  document.getElementById('cexp').textContent=v||'MM/YY';
}
function vUPI() { const b=event.target; b.textContent='‚è≥'; setTimeout(()=>{b.textContent='‚úÖ OK';b.style.color='#2D5A4F';},1200); }
function selB(e) { document.querySelectorAll('.bi').forEach(b=>b.classList.remove('sel')); e.classList.add('sel'); }
function selW(e) { document.querySelectorAll('.wi').forEach(w=>w.classList.remove('sel')); e.classList.add('sel'); }

// ‚îÄ‚îÄ Validate ‚îÄ‚îÄ
function validate() {
  if(!selDest) { document.getElementById('destErr').style.display='block'; window.scrollTo({top:300,behavior:'smooth'}); return false; }
  const req=[['fname','Pehla Naam'],['lname','Aakhri Naam'],['email','Email'],['phone','Mobile'],['tdate','Travel Date']];
  for(const [id,lbl] of req) {
    if(!document.getElementById(id).value.trim()) {
      document.getElementById(id).focus();
      alert(lbl+' zaroori hai!'); return false;
    }
  }
  if(selMethod==='card') {
    if(document.getElementById('cn').value.replace(/\s/g,'').length<16) { alert('Valid 16-digit card daalo!'); return false; }
    if(!document.getElementById('ce').value.match(/^\d{2}\/\d{2}$/)) { alert('Valid expiry daalo MM/YY!'); return false; }
    if(document.getElementById('ccvv').value.length<3) { alert('Valid CVV daalo!'); return false; }
  }
  return true;
}

const genId  = () => 'GHOOM-'+Date.now()+'-'+Math.random().toString(36).substr(2,5).toUpperCase();
const genBar = () => Array.from({length:16},()=>Math.floor(Math.random()*10)).join('');
const delay  = ms => new Promise(r=>setTimeout(r,ms));

// ‚îÄ‚îÄ PAY ‚îÄ‚îÄ
let bData = {};
async function doPay() {
  if(!validate()) return;
  document.getElementById('paybtn').disabled = true;

  const td = document.getElementById('tdate').value;
  const dateStr = new Date(td).toLocaleDateString('en-IN',{day:'numeric',month:'long',year:'numeric'});

  bData = {
    name      : document.getElementById('fname').value+' '+document.getElementById('lname').value,
    firstName : document.getElementById('fname').value,
    email     : document.getElementById('email').value,
    phone     : document.getElementById('phone').value,
    destination: selDest.name,
    destCode  : selDest.code,
    destCity  : selDest.city,
    destImg   : selDest.img,
    nights    : selDest.nights,
    travelDate: dateStr,
    travelers : document.getElementById('travelers').value,
    amount    : '‚Çπ'+curAmt.toLocaleString('en-IN'),
    orderId   : genId(),
    barcode   : genBar(),
  };

  // Save booking
  const bookings = JSON.parse(localStorage.getItem('ghoomakad_bookings')||'[]');
  bookings.push({...bData, bookedAt:new Date().toISOString()});
  localStorage.setItem('ghoomakad_bookings', JSON.stringify(bookings));

  // Processing animation
  document.getElementById('po').classList.add('show');
  const steps=[['ps1','Payment encrypt ho rahi hai...'],['ps2','Bank verify kar raha hai...'],['ps3','Booking confirm ho rahi hai...'],['ps4','Ticket ban rahi hai üé´']];
  for(const [id,txt] of steps) {
    document.getElementById('ptxt').textContent = txt;
    const el = document.getElementById(id);
    el.classList.add('active');
    await delay(900);
    el.classList.remove('active'); el.classList.add('done');
    el.innerHTML = '‚úÖ '+el.textContent.replace('‚è≥ ','');
  }
  await delay(400);
  document.getElementById('po').classList.remove('show');

  fillTicket();
  document.getElementById('sm').classList.add('show');
}

// ‚îÄ‚îÄ Fill ticket ‚îÄ‚îÄ
function fillTicket() {
  const d = bData;
  document.getElementById('tkimg').src    = d.destImg;
  document.getElementById('tkcode').textContent  = d.destCode;
  document.getElementById('tkcity').textContent  = d.destCity;
  document.getElementById('tkdur').textContent   = d.nights;
  document.getElementById('tkname').textContent  = d.name;
  document.getElementById('tkdate').textContent  = d.travelDate;
  document.getElementById('tkdest').textContent  = d.destination;
  document.getElementById('tktrav').textContent  = d.travelers;
  document.getElementById('tkamt').textContent   = d.amount;
  document.getElementById('tktxn').textContent   = d.orderId;
  document.getElementById('tkbar').textContent   = d.barcode;

  // Barcode bars
  const bb = document.getElementById('bbviz');
  bb.innerHTML = '';
  [3,1,4,1,2,3,1,4,2,1,3,4,1,2,3,1,4,1,2,3,4,1,2,1,3,4].forEach((w,i)=>{
    const b=document.createElement('div');
    b.className='bar';
    b.style.cssText='width:'+w+'px;height:'+(16+(i%3)*5)+'px;background:'+(i%2===0?'#1A1208':'transparent');
    bb.appendChild(b);
  });
}

// ‚îÄ‚îÄ PDF DOWNLOAD ‚îÄ‚îÄ real working!
function downloadPDF() {
  const btn = document.getElementById('dlbtn');
  btn.textContent = '‚è≥ PDF ban rahi hai...'; btn.disabled = true;

  setTimeout(()=>{
    const {jsPDF} = window.jspdf;
    const doc = new jsPDF({unit:'mm',format:[210,148],orientation:'landscape'});
    const W=210, H=148, d=bData;

    // Background
    doc.setFillColor(253,250,244); doc.rect(0,0,W,H,'F');

    // Left dark panel
    doc.setFillColor(26,18,8); doc.rect(0,0,78,H,'F');
    doc.setFillColor(45,90,79); doc.circle(0,H,55,'F');
    doc.setFillColor(61,46,20); doc.circle(78,0,35,'F');

    // Brand
    doc.setFont('times','bold'); doc.setFontSize(20); doc.setTextColor(232,184,75);
    doc.text('Ghoomakad',10,20);
    doc.setFont('helvetica','normal'); doc.setFontSize(6.5); doc.setTextColor(138,112,96);
    doc.text('TRAVEL BOOKING TICKET',10,27);
    doc.setDrawColor(200,151,42); doc.setLineWidth(0.4); doc.line(10,31,68,31);

    // Passenger info
    const info=[
      ['YATRI KA NAAM', d.name.length>20?d.name.slice(0,20)+'.':d.name],
      ['MOBILE',        d.phone],
      ['EMAIL',         d.email.length>22?d.email.slice(0,22)+'...':d.email],
      ['TRAVELERS',     d.travelers],
      ['PACKAGE',       'Premium'],
      ['AMOUNT PAID',   d.amount],
    ];
    info.forEach(([l,v],i)=>{
      const y=42+(i*15);
      doc.setFont('helvetica','bold'); doc.setFontSize(5.5); doc.setTextColor(100,80,60); doc.text(l,10,y);
      doc.setFont('helvetica','bold'); doc.setFontSize(9); doc.setTextColor(255,255,255); doc.text(String(v),10,y+6);
    });

    // Confirmed badge
    doc.setFillColor(45,90,79); doc.roundedRect(10,H-26,58,14,3,3,'F');
    doc.setFont('helvetica','bold'); doc.setFontSize(8); doc.setTextColor(255,255,255);
    doc.text('‚úì  BOOKING CONFIRMED',39,H-17,{align:'center'});

    // Separator
    doc.setDrawColor(200,151,42); doc.setLineDash([2,2]);
    doc.line(78,8,78,H-8); doc.setLineDash([]);
    doc.setFillColor(245,239,224); doc.circle(78,32,7,'F'); doc.circle(78,H-32,7,'F');

    // Route ‚Äî DEL ‚Üí DEST
    doc.setFont('times','bold'); doc.setFontSize(44); doc.setTextColor(26,18,8); doc.text('DEL',88,40);
    doc.setFont('helvetica','normal'); doc.setFontSize(7.5); doc.setTextColor(138,112,96); doc.text('New Delhi',88,47);

    doc.setFontSize(16); doc.setTextColor(200,151,42); doc.text('‚úà',140,36);
    doc.setDrawColor(200,151,42); doc.setLineWidth(0.8); doc.line(130,40,160,40);
    doc.setFont('helvetica','normal'); doc.setFontSize(7); doc.setTextColor(138,112,96);
    doc.text(d.nights,144,47,{align:'center'});

    // DESTINATION code ‚Äî dynamically from booking!
    doc.setFont('times','bold'); doc.setFontSize(44); doc.setTextColor(26,18,8); doc.text(d.destCode,163,40);
    doc.setFont('helvetica','normal'); doc.setFontSize(7.5); doc.setTextColor(138,112,96); doc.text(d.destCity,163,47);

    // Divider
    doc.setDrawColor(232,221,208); doc.setLineWidth(0.4); doc.setLineDash([3,2]);
    doc.line(83,55,W-5,55); doc.setLineDash([]);

    // Info boxes
    doc.setFillColor(245,239,224); doc.roundedRect(83,60,62,20,3,3,'F');
    doc.setFont('helvetica','bold'); doc.setFontSize(5.5); doc.setTextColor(138,112,96); doc.text('TRAVEL DATE',87,67);
    doc.setFont('helvetica','bold'); doc.setFontSize(8.5); doc.setTextColor(26,18,8); doc.text(d.travelDate,87,75);

    doc.setFillColor(245,239,224); doc.roundedRect(150,60,55,20,3,3,'F');
    doc.setFont('helvetica','bold'); doc.setFontSize(5.5); doc.setTextColor(138,112,96); doc.text('DESTINATION',154,67);
    const ds = d.destination.length>16?d.destination.slice(0,16)+'...':d.destination;
    doc.setFont('helvetica','bold'); doc.setFontSize(8); doc.setTextColor(26,18,8); doc.text(ds,154,75);

    // TXN
    doc.setFillColor(26,18,8); doc.roundedRect(83,84,122,13,3,3,'F');
    doc.setFont('helvetica','bold'); doc.setFontSize(5.5); doc.setTextColor(138,112,96); doc.text('TRANSACTION ID',88,90);
    doc.setFont('courier','bold'); doc.setFontSize(8.5); doc.setTextColor(232,184,75); doc.text(d.orderId,88,97);

    // Barcode
    doc.setFillColor(253,250,244); doc.rect(83,101,122,24,'F');
    const bws=[3,1.5,3,1.5,4,3,1.5,4,1.5,3,4,1.5,3,4,1.5,3,1.5,4,3,1.5,4,3,1.5,3,4,1.5,3];
    let bx=88;
    bws.forEach((w,i)=>{ if(i%2===0){doc.setFillColor(26,18,8);doc.rect(bx,103,w,14,'F');} bx+=w+0.8; });
    doc.setFont('courier','normal'); doc.setFontSize(6.5); doc.setTextColor(138,112,96);
    doc.text(d.barcode,144,120,{align:'center'});

    // Footer
    doc.setFillColor(26,18,8); doc.rect(78,H-14,W,14,'F');
    doc.setFont('helvetica','normal'); doc.setFontSize(6); doc.setTextColor(100,80,60);
    doc.text('hello@ghoomakad.in  |  +91 98765 43210  |  Ghoomakad, New Delhi',144,H-7,{align:'center'});

    // Watermark
    doc.setFont('times','italic'); doc.setFontSize(80); doc.setTextColor(245,239,224);
    doc.text('G',155,105);

    // Save with destination name in filename!
    doc.save('Ghoomakad_'+d.destCode+'_'+d.barcode+'.pdf');

    btn.textContent='‚úÖ Downloaded!';
    btn.style.background='linear-gradient(135deg,#2D5A4F,#4A8C7D)';
    btn.style.color='#fff';
    btn.disabled=false;
    setTimeout(()=>{ btn.textContent='üì• Ticket Download Karo'; btn.style.background=''; btn.style.color=''; },4000);
  }, 500);
}
</script>
</body>
</html>
